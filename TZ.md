# Техническое задание
Создание *веб-приложения*.

## 1. Цель проекта.
Цель проекта -- разработать систему(Веб-приложени) для заказа на выполнение работ для студентов и консультации. Куратор сможет выбирать задания для выполнения, управлять их стоимостью, а также переходить в чат *Telegram* для свзяи с учеником.
## 2. Описание системы
Система состоит из следующих основных функциональных блоков:
  * Регистрация, аутентификация и авторизация.
  * Функционал для преподавателя.
  * Функционал оплаты заданий.
  * Функционал для заказчика.
  * Функционал интеграции с Telegram
  * Уведомление о статусе заказа.
## Типы пользователей. 
  Система предусматривает два типа пользователей системы: преподаватель и заказчик.
Заказчик создает заказ (прикрепляет текст задания, фотографию). Преподаватель соотвественно выбирает заказ из предлогаемого списка, задает срок сдачи и предполагаемую цену.
## Регистрация.
Процесс заведения преподавателя в инсталляции Системы может быть реализован
в первой версии не в интерфейсе Системы, а при помощи команды на сервере,
это допускается. Этой команде заведения преподавателя должны быть переданы на вход
следующие данные:

* email — обязательное поле
* пароль — обязательное поле

Процесс заведения преподавателя через команду на сервере должен быть описан в
документации Системы.

Процесс регистрации заказчиков, конечно, должен быть реализован в
интерфейсах Системы. При регистрации заказчика должны быть запрошены
следующие поля:

* email — обязательное поле
* имя и фамилия — обязательное поле
* телефон — опциональное поле

После отправки формы регистрации подписчика ему на email приходит
письмо с первым кодом, по которому он может войти. Аутентификация будет
происходить по разовым кодам, приходящим на email.

## 2.3. Аутентификация автора и подписчиков

Аутентификация преподавателя и заказчика осуществляется по email и одноразовому
паролю (или по одноразовой ссылке), который приходит на этот email (как
реализовано при входе в Skype у Microsoft).

## 2.4. Функционал для преподавателя

Преподаватель после аутентификации (ввода логина и пароля) получает доступ к 
своему функционалу в Системе. Этот функционал состоит из
следующих блоков:

1. Редактирование данных профиля
2. Выбор заказа.
3. Отправка заказа.
4. Аналитика.
### 2.4.1. Редактирование профиля

В этом разделе у преподавателя есть возможность редактирования данных
своего профиля — email, имя, специализация , соц-сети.
Возможные соц сети:

* Telegram
* VK
* Discord

Должна быть возможность сменить пароль, подтвердив свой старый пароль.

Если дизайн Системы будет подразумевать какие-то изображения для кастомизации
страницы Системы, то эти изображения тоже должны редактироваться из профиля
автора.

### 2.4.2. Выбор заказа.

По каждому выбору заказа задается:

* Срок сдачи заказа.
* Дополнительное описание.
* Стоимость заказ.
* доступ в Telegram для этого заказа — для некоторых типов заказов будет
доступен чат в Telegram с преподавателем.

Должна быть возможность (опциональная) задать скидки за количество заказов
на 4, 8 и 20 штук. Скидка задаётся в рублях.

### 2.4.3 Отправка заказа.
Контент, публикуемый преподаватилем, может представлять собой форматированный текст с возможностью, выделения текста жирным, курсивом, подчеркнутым. 
Должна быть возможность добавления списков и изображений в отправку заказа, а также возможность прикрепления файлов.
Перед отправкой заказа должен выставляться статус заказа(Не выполнено, частично выполнено, выполнено). 
После отправки заказа и статуса "выполнено" должна остаться возможность отправлять сообщения для преподавателя и для заказчика в течение 3 дней. В противном случае чат будет доступен до момента статуса "выполнено". 

Как только меняется статус заказа, заказчику приходит *email* уведомление.
### 2.4.4 Аналитика.
Преподаватель видит следующую аналитику:

1. Абсолютное и относительное количество выполненных заданий в разных
уровнях сдачи задачи. 

2. Платежи — списком, плюс экспорт в Excel всех платежей. Колонки:
дата-время платежа, сумма платежа, заказчик — id (это длинный хеш из 32 символов,
можно показывать по наведению мыши), имя, email.

## 2.5 Функционал оплаты 
Главная страница Системы - это секции:
  1. Заказать выполнение лабораторной работы. 
  2. Консультация.
На каждоый секции будет блок с информацией и кнопка для заказа. Нажимая на кнопку происходит два события: 
  1. Если пользователь не авторизован, его перенаправляет на регистрацию.
  2. Если пользователь авторизован, его перенаправляет на страницу создания заказа.
 
Заказчик создает задание и указывает необходимое время сдачи. 

После того, как преподаватель берет задание и назначает цену, заказчику приходит уведомление о выставлении цены, и он может либо согласиться, либо отказаться, в таком случае заказ удаляется из листа заказов. 


Заказ оплачивается после его выполнения, в момент когда автор ставит статус заказа "выполнено". 

После оплаты, у заказчика будет возможность поставить оценку преподавателю и отсавить чаевые. 

У каждого заказа должна быть своя постоянная ссылка. Идентификатор поста, зашитый в ссылке, должен представлять собой UUID, не int, чтобы нельзя было понять количество заказов в системе.


## 2.6 Функционал для заказчика.

Заказчик после аутентификации (ввода логина и пароля) получает доступ к 
своему автороскому функционалу в Системе. Этот функционал состоит из
следующих блоков:

1. Редактирование данных профиля.
2. Создание заказа.
3. Просмотр своих заказов.(Активных и неактивных).
4. Получение заказа.
5. Рассылки.

### 2.6.1 Редактирование

В этом разделе у заказчика есть возможность редактирования данных
своего профиля — email, имя, заказы, соц сети.
Возможные соц сети:

* VK
* Telegram

Должна быть возможность сменить пароль, подтвердив свой старый пароль.

### 2.6.2 Создание заказа
 
Контент, публикуемый заказчиком, может представлять собой форматированный текст
с возможность, как миниум, выделения текста жирным, курсивом, подчеркнутым,
перечеркнутым. Возможно стоит добавить возможность создания заголовков разного
размера для структурирования длинного текстового контента.

Должна быть возможность добавления списков и изображений в контент поста,
а также возможность прикрепления файлов.

У каждого поста должен быть заголовок.


Также для каждого заказа должна быть задана специализация.

В сам контент может вставляться: текст с форматированием (заголовки,
жирный, курсивный, перечеркнутый текст), изображения (загружаются с компьютера),
Также должна быть возможность
прикрепить произвольный загруженный с компьютера файл.


### 2.6.3 Просмотр заказов(активных и неактивных)
У заказчика в личном кабинете можно просмотреть заказы, их статус , их содержание, преподавателя и цену.

### 2.6.4 Получение заказа
После того как преподаватель выставит статус заказа "выполнено", у заказчика появится кнопка оплатить заказ. После оплаты у него открывается доступ к контенту по методу P2P обмена. Заказчик и преподаватель подтверждает оплату. 
После успешного выполнения, заказчик может оставить отзыв и оценку преподавателю(опционально). 

### 2.6.5 Рассылки
На каждое обновление статуса заказа, на взятие и выставление цены приходит email рассылка. 

## 2.7. Функционал интеграции с Telegram

Система должна предоставлять ссылку на Telegram преподавателя после оплаты такой функции.

# 3. Предлагаемый стек технологий

Для реализации системы предлагается следующий стек технологий.

Бэкэнд: 
  1. Java
  2. Spring Framework
  3. БД PostgreSQL
Фронтенд: 
  1. React 
  2. JavaScript


Для интеграции онлайн платежей рассматривается прямые переводы на карту. Оплата будет проверяться методом P2P.

# 4. Требования к дизайну.

Минимализм, лаконичность, акцент на совершении заказа. Белый фон. Должен присутствовать
логотип Системы где-то на странице. Логотип надо разработать в рамках
этого проекта.

В нижней части страницы (в подвале) должно быть написано:

«Работает на Open Source» со ссылкой на GitHub проекта.
